<!DOCTYPE html>
<html lang="en-us">
  <head><link rel="icon" href="/favicon_main.svg"><meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta http-equiv="x-ua-compatible" content="ie=edge" /><meta property="og:url"  content="https://ozturkfemre.netlify.app/topic_1/linearregression/" />
    <meta property="og:type" content="article" /><meta property="og:title" content="Linear Regression(OLS) Project" /><meta property="og:description" content="Trying to predict the wages of workers in the Mid-Atlantic region using a classical linear regression model" /><meta property="og:image:width"  content="375" />
        <meta property="og:image:height" content="250" /><meta property="og:image" content="https://ozturkfemre.netlify.app/images/sum_hu2319ed292ea941f25cfb6ae89784bf56_55250_600x0_resize_box_3.png" /><title>Fatih Emre Ozturk - Linear Regression(OLS) Project</title>

    
<link href="https://fonts.googleapis.com/css?family=Source&#43;Code&#43;Pro" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Source&#43;Code&#43;Pro" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Source&#43;Code&#43;Pro" rel="stylesheet"><link rel="stylesheet" type="text/css" href="/css/style.cefb89a0a078dee69d33abe22f41791a896708f5a323b1187fa5e3dd8566e0cb.css" integrity="sha256-zvuJoKB43uadM6viL0F5GolnCPWjI7EYf6Xj3YVm4Ms=">
<link rel="stylesheet" type="text/css" href="/css/monokai-sublime.9.15.8.min.91376415864fdd3a92be524052267afece4bdb1bb8c6c754f5e60c5ac28e93be.css" integrity="sha256-kTdkFYZP3TqSvlJAUiZ6/s5L2xu4xsdU9eYMWsKOk74=">
<link rel="stylesheet" type="text/css" href="/css/all.min.2d91c07e15fc26f2697117b326256c0a2b0586dd12a15c622a53cd47a9e54a1d.css" integrity="sha256-LZHAfhX8JvJpcRezJiVsCisFht0SoVxiKlPNR6nlSh0=">
<link rel="stylesheet" type="text/css" href="/css/refresh.ccfd23f8053a1571a3e474a6877f42a6a1924c6bbf1b64c7704b49a0353b4650.css" integrity="sha256-zP0j&#43;AU6FXGj5HSmh39CpqGSTGu/G2THcEtJoDU7RlA=">
<link rel="stylesheet" type="text/css" href="/css/devicon.min.149016fbf45c8bc157d6f55ce3ee875feaa3f90446bf7d151fbc16a9f21a8859.css" integrity="sha256-FJAW&#43;/Rci8FX1vVc4&#43;6HX&#43;qj&#43;QRGv30VH7wWqfIaiFk=">
    

  </head>
  <body>
     

    <div id="preloader">
      <div id="status"></div>
    </div><nav class="navbar is-fresh is-transparent no-shadow" role="navigation" aria-label="main navigation">
  <div class="container">
    <div class="navbar-brand">

      
      
      
      <a class="navbar-item">
        <div class="menu-icon-wrapper left-menu-icon-wrapper" style="visibility: visible;">
          <svg width="1000px" height="1000px">
            <path class="path1" d="M 300 400 L 700 400 C 900 400 900 750 600 850 A 400 400 0 0 1 200 200 L 800 800"></path>
            <path class="path2" d="M 300 500 L 700 500"></path>
            <path class="path3" d="M 700 600 L 300 600 C 100 600 100 200 400 150 A 400 380 0 1 1 200 800 L 800 200"></path>
          </svg>
          <button id="menu-icon-trigger" class="menu-icon-trigger"></button>
        </div>
        <div class="navbar-item left-menu-icon-wrapper">
          Tags
        </div>
      </a>

      <div class="navbar-item is-expanded"></div>
      <a class="navbar-item is-hidden-desktop">  
        <div data-target="navbar-menu" class="navbar-item right-menu-icon-wrapper is-hidden-desktop">
          Menu
        </div>
        <div data-target="navbar-menu" class="menu-icon-wrapper right-menu-icon-wrapper" style="visibility: visible;">
          <svg width="1000px" height="1000px">
            <path class="path1" d="M 300 400 L 700 400 C 900 400 900 750 600 850 A 400 400 0 0 1 200 200 L 800 800"></path>
            <path class="path2" d="M 300 500 L 700 500"></path>
            <path class="path3" d="M 700 600 L 300 600 C 100 600 100 200 400 150 A 400 380 0 1 1 200 800 L 800 200"></path>
          </svg>
          <button id="menu-icon-trigger" class="menu-icon-trigger"></button>
        </div>
      </a>
    </div><div id="navbar-menu" class="navbar-menu is-static">
      
      <div class="navbar-end">
        <a href="/about/" class="navbar-item is-secondary">About Me</a><a href="/topic_2/" class="navbar-item is-secondary">Technical Training</a><a href="/post/" class="navbar-item is-secondary">Posts</a><a href="/topic_1/" class="navbar-item is-secondary">Projects</a>
        
        
        
        
        
        
        
      </div>
    </div>
  </div>
</nav>
<nav id="navbar-clone" class="navbar is-fresh is-transparent" role="navigation" aria-label="main navigation">
  <div class="container">
      <div class="navbar-brand">
  
        
        
        
        <a class="navbar-item">
          <div class="menu-icon-wrapper left-menu-icon-wrapper" style="visibility: visible;">
            <svg width="1000px" height="1000px">
              <path class="path1" d="M 300 400 L 700 400 C 900 400 900 750 600 850 A 400 400 0 0 1 200 200 L 800 800"></path>
              <path class="path2" d="M 300 500 L 700 500"></path>
              <path class="path3" d="M 700 600 L 300 600 C 100 600 100 200 400 150 A 400 380 0 1 1 200 800 L 800 200"></path>
            </svg>
            <button id="menu-icon-trigger" class="menu-icon-trigger"></button>
          </div>
          <div class="navbar-item left-menu-icon-wrapper">
            Tags
          </div>
        </a>
  
        <div class="navbar-item is-expanded"></div>
        <a class="navbar-item is-hidden-desktop">  
          <div data-target="cloned-navbar-menu" class="navbar-item right-menu-icon-wrapper is-hidden-desktop">
            Menu
          </div>
          <div data-target="cloned-navbar-menu" class="menu-icon-wrapper right-menu-icon-wrapper" style="visibility: visible;">
            <svg width="1000px" height="1000px">
              <path class="path1" d="M 300 400 L 700 400 C 900 400 900 750 600 850 A 400 400 0 0 1 200 200 L 800 800"></path>
              <path class="path2" d="M 300 500 L 700 500"></path>
              <path class="path3" d="M 700 600 L 300 600 C 100 600 100 200 400 150 A 400 380 0 1 1 200 800 L 800 200"></path>
            </svg>
            <button id="menu-icon-trigger" class="menu-icon-trigger"></button>
          </div>
        </a>
      </div><div id="cloned-navbar-menu" class="navbar-menu is-static">
        <div class="navbar-end"><a href="/about/" class="navbar-item is-secondary">About Me</a><a href="/topic_2/" class="navbar-item is-secondary">Technical Training</a><a href="/post/" class="navbar-item is-secondary">Posts</a><a href="/topic_1/" class="navbar-item is-secondary">Projects</a>
          
          
          

          
          
          
        
        </div>
      </div>
    </div>
  </nav>
<section class="section is-medium">
  <div class="container">
    <div class="columns">
      <div class="column is-centered-tablet-portrait">
        <h1 class="title is-2 section-title">Linear Regression(OLS) Project</h1>
        <h5 class="subtitle is-5 is-muted"></h5>
        <div class="divider"></div>
        
        <section class="section content has-text-justified">
          <hr>
<p>description: In this study, I tried to predict the wages of workers in the Mid-Atlantic region using a classical linear regression model. The data set is not very suitable for linear regression. Since most of the regression analysis studies on the internet are done with data sets that are quite suitable for regression, I hope that this study can give an idea about how to act when faced with a difficult data set to work with. All coding is done in R. Both Turkish and English .Rmd and .R files are available.</p>
<p>link</p>
<hr>
<h2 id="aim-of-the-projecthttpsgithubcomozturkfemreclassical_linear_regression">Aim of <a href="https://github.com/ozturkfemre/classical_linear_regression">the Project</a></h2>
<p>In this study, I tried to estimate the wages of workers in the Mid-Atlantic region using a classical linear regression model. The data set is not very suitable for linear regression. Since most of the regression analysis studies on the internet are done with data sets that are quite suitable for regression, I hope that this study can give an idea about how to act when faced with a difficult data set to work with. All coding is done in R. Both <a href="https://github.com/ozturkfemre/classical_linear_regression/blob/main/TR/TR_report.Rmd">Turkish</a> and <a href="https://github.com/ozturkfemre/classical_linear_regression/blob/main/ENG/ENG_report.Rmd">English</a> .Rmd and .R files are available..</p>
<h2 id="dataset-information">Dataset Information</h2>
<p>The <a href="https://www.re3data.org/repository/r3d100011860">dataset</a> is taken from the <code>ISLR</code> package. The dataset contains information about wage and other information for a group of 3000 male workers in the Mid-Atlantic Region. There are 11 variables in the dataset. While 9 of the 11 variables are independent variables, there are 2 dependent variables. One is the salary of workers and the other is log(wage). The information of all variables can be found in the table below.</p>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>year</td>
<td>Year that wage information was recorded</td>
</tr>
<tr>
<td>age</td>
<td>Age of worker</td>
</tr>
<tr>
<td>maritl</td>
<td>A factor with levels <code>1. Never Married</code> <code>2. Married</code> <code>3. Widowed</code> <code>4. Divorced</code> and <code>5. Separated</code> indicating marital status</td>
</tr>
<tr>
<td>race</td>
<td>A factor with levels <code>1. White</code> <code>2. Black</code> <code>3. Asian</code> and <code>4. Other</code> indicating race</td>
</tr>
<tr>
<td>education</td>
<td>A factor with levels <code>1. &lt; HS Grad</code> <code>2. HS Grad</code> <code>3. Some College</code> <code>4. College Grad</code> and <code>5. Advanced Degree</code> indicating education level</td>
</tr>
<tr>
<td>region</td>
<td>Region of the country (mid-atlantic only)</td>
</tr>
<tr>
<td>jobclass</td>
<td>A factor with levels <code>1. Industrial</code> and <code>2. Information</code> indicating type of job</td>
</tr>
<tr>
<td>health</td>
<td>A factor with levels <code>1. &lt;=Good</code> and <code>2. &gt;=Very Good</code> indicating health level of worker</td>
</tr>
<tr>
<td>health_ins</td>
<td>A factor with levels <code>1. Yes</code> and <code>2. No</code> indicating whether worker has health insurance</td>
</tr>
<tr>
<td>logwage</td>
<td>Log of workers wage</td>
</tr>
<tr>
<td>wage</td>
<td>Workers raw wage</td>
</tr>
</tbody>
</table>
<h2 id="study">Study</h2>
<p>The study section consists of eight parts:</p>
<ol>
<li>
<p>Descriptive Statistics</p>
</li>
<li>
<p>The First Model(contains all independent variables)</p>
</li>
<li>
<p>Variable Selection</p>
</li>
<li>
<p>Assumption Check</p>
</li>
<li>
<p>Regression Diagnosis</p>
</li>
<li>
<p>Model Development</p>
</li>
<li>
<p>Assumption Check</p>
</li>
<li>
<p>Conclusion</p>
</li>
</ol>
<h3 id="descriptive-statistics">Descriptive Statistics</h3>
<p>In the descriptive statistics section, descriptive statistics of each variable were analysed. These analyses were made separately for categorical and numerical variables.</p>
<h4 id="data-visualization">Data Visualization</h4>
<p>In this section, boxplots of numerical variables are analysed first. Plots are interpreted in detail. Then, the boxplots of the dependent variables according to the levels of the categorical variables are also drawn. In this way, it was examined whethere there is a linear relationship between ordinal variables and dependent variables. Then, pairplot was drawn in order to have an idea about the relationship between numerical variables and the dependent variable. In addition, correlation analysis was also performed. Finally, the distributions of the two variables that are likely to be the dependent variable were analysed and it was decided which variable to choose.</p>
<h3 id="the-first-model">The First Model</h3>
<p>In this section, the full model was created with all variables in the data set. Model Validity was checked with F hypothesis test. Finally, Coefficient analysis was performed.</p>
<h3 id="variable-selection">Variable Selection</h3>
<p>In this section, the best subset selection method is used to decide which variables are included in the best three models. Best subset selection involves fitting all possible subsets of the predictor variables and selecting the best model based on some criteria, such as the Akaike information criterion (AIC), the Bayesian information criterion (BIC) or CP. Then, the best of the three model options was selected with performance metrics such as RMSE and MAE.</p>
<h3 id="assumption-check">Assumption Check</h3>
<p>The following assumptions were checked in this section:</p>
<ol>
<li>
<p><strong>Multicollinearity</strong> which can be stated as the independent variables should not be highly correlated with each other. This checked by computing VIF.</p>
</li>
<li>
<p><strong>Normality</strong> which can be stated as the errors should be normally distributed. This checked by examining a histogram of the residuals, a normal probability plot of the residuals, and hypothesis tests.</p>
</li>
<li>
<p><strong>Homoscedasticity</strong> which can be stated as the variance of the errors should be constant across all levels of the independent variable(s). This checked by plotting the residuals against the predicted values and BP hypothesis test.</p>
</li>
</ol>
<h3 id="regression-diagnosis">Regression Diagnosis</h3>
<p>In this section, the performance of the model was checked. Some improvements to be made in the model development section were decided by applying the following procedures:</p>
<ol>
<li>
<p><strong>Outliers</strong> which are the observation that are far from the other observations in the dataset. They identified by examining scatterplot of the standardized residuals against the fitted values.</p>
</li>
<li>
<p><strong>Leverage</strong> which is a measure of how far an observation is from the mean of the independent variables. Since an observation with high leverage may have a large influence on the model, they identified by examining scatterplot of the standardized residuals against the fitted values.</p>
</li>
<li>
<p><strong>Cook&rsquo;s Distance</strong> which is a measure of the influence of each observation on the regression model. Since large values of Cook&rsquo;s distance indicate that the corresponding observation has a large influence on the model, it needs to be examined.</p>
</li>
</ol>
<h3 id="model-development">Model Development</h3>
<p>In this section, efforts were made to ensure that the model meets the assumptions by applying the following steps:</p>
<ol>
<li>
<p><strong>Data manipulation:</strong> not all levels of some categorical variables were significant. Therefore, changes were made to the data to exclude the insignificant variables from the model.</p>
</li>
<li>
<p><strong>Normalization:</strong> non-normal distribution of the dependent variable may cause errors to be non-normally distributed. For this reason, some transformations were applied to the dependent variable and normal distribution was attempted.</p>
</li>
<li>
<p><strong>Outliers:</strong> Outliers were removed from the data set and the model was improved.</p>
</li>
</ol>
<h3 id="assumpiton-check">Assumpiton Check</h3>
<p>In this section, it is checked whether the model reconstructed after the changes made in the data set meets the assumptions. Although normality and multicolinearity assumptions were met, homoscedasticity assumption was not met.</p>
<h3 id="conclusion">Conclusion</h3>
<p>As a result of all these analyses:</p>
<ul>
<li>
<p>The assurance of normality of the dependent variable in the model increased the values of Rsquare and Adj.Rsquare, but it was still not possible to ensure the assumptions.</p>
</li>
<li>
<p>To ensure these assumptions, the observations that were detected as outliers based on standardized errors were removed from the data set and a new model was established. When hypothesis tests were applied in this model, it was noticed that the assumptions were still not met despite the approximation.</p>
</li>
<li>
<p>It was also noticed in the descriptive statistics that there was no linear relationship between the variables. The only relationship we could say was linear was between the dependent variable and education. Therefore, it may be more logical to try this data set with non-linear regression models.</p>
</li>
<li>
<p>Adding new independent variables that could have a linear relationship with the wage variable might also be logical.</p>
</li>
</ul>

        </section>
      </div>
    </div>
  </div>  
  </section>
<footer class="footer footer-dark">
  <div class="container">
    <div class="columns">
      <div class="column">
        <img src="/footer.svg" alt="">
        
      </div>
      
    <div class="column">
        <div class="footer-column">
          <div class="footer-header">
              <h3>Website</h3>
          </div>
          <ul class="link-list"><li><a href="/credits/">
                  <span class="icon"><i class="fa fa-cube"></i></span>
                  Credits
                </a></li>
            <li></li>
          </ul>
        </div>
      </div>
    
      
      <div class="column">
        <div class="footer-column">
          <div class="footer-header">
              <h3>Contacts</h3>
          </div>
          <ul class="link-list">
            
            <li>
              <a href="https://www.linkedin.com/https://www.linkedin.com/in/ozturkfemre/" target="_blank">
                <span class="icon"><i class="fab fa-linkedin"></i></span>
                
                  linkedIn
                
              </a>
            </li>
            
            
            <li>
              <a href="https://github.com/https://github.com/ozturkfemre" target="_blank">
                <span class="icon"><i class="fab fa-github-square"></i></span>
                
                  github
                
              </a>
            </li>
                         
            
            <li>
              <a href="mailto:ozturkfemre@gmail.com" target="_blank">
                <span class="icon"><i class="fa fa-envelope"></i></span>
                
                  email
                
              </a>
            </li>
            
                   
                   
            
            
                         
       
          </ul>
        </div>
      </div>
      

      
      <div class="column">
        <div class="footer-column">
          <div class="footer-header">
              <h3>Copyright</h3>
          </div>
          <ul class="link-list">
            <li>
              <a>
                <span class="icon"><i class="fa fa-copyright"></i></span>
                PippoRJ - 2021
              </a>
            </li>
          </ul>
        </div>
      </div>
      

    </div>
  </div>
</footer>
    <div id="backtotop"><a href="#"></a></div><div class="sidebar scroll">
  <div class="sidebar-header"><img src="/sidebar.svg" alt="">
    
    <a class="sidebar-close" href="javascript:void(0);">
      <i data-feather="x"></i>
    </a>
  </div>
  <div class="inner">
    <ul class="sidebar-menu">
      <li class="no-children"><div class="columns">
              <table width="100%">  
                <tr>
                  <td class="">
                    <span class="icon"><i class="fa fa-cubes"></i></span>
                    All Tags
                  </td>
                  <td class="has-text-right" >
                      
                  </td>
                </tr>
              </table>
            </div>
          </a></ul>
  </div>
</div>
<script src="/js/jquery-2.2.4.893e90f6230962e42231635df650f20544ad22affc3ee396df768eaa6bc5a6a2.js" integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI="></script>
  <script src="/js/feather.4.22.0.1ab07abeb9975f283f6b5f29451981be680fbf77ea778f991d457511d210476a.js" integrity="sha256-GrB6vrmXXyg/a18pRRmBvmgPv3fqd4&#43;ZHUV1EdIQR2o="></script>
  <script src="/js/modernizr-3.6.0.e013a1e54e3c19d83537ba42b900d34451e5e4b2e789be27a02ac9b152edb741.js" integrity="sha256-4BOh5U48Gdg1N7pCuQDTRFHl5LLnib4noCrJsVLtt0E="></script>
  <script src="/js/refresh.62c1a9b7d85bcf4d944cd585a01dfa8fb15112a7d2cf9fb819db20493bfe7484.js" integrity="sha256-YsGpt9hbz02UTNWFoB36j7FREqfSz5&#43;4GdsgSTv&#43;dIQ="></script><script>
  window.MathJax = {
    loader: {
      load: ['core', 'input/tex-base', 'output/chtml'],  
      source: {
        'core': '\/js\/mathjax\/core.d48fedf25c74c54fa6bf79646de92b02155872bdc4f5f7d0bbfc662523d8b4f5.js',
        'input/tex-base': '\/js\/mathjax\/tex-base.1b68b8741dfc54e8f7222f88bea8ffcfc57ac54b2a2d8f4edf6800aa44d49441.js',
        'output/chtml': '\/js\/mathjax\/chtml.926cd166e0f8c1f8a566a718d60c9c58a2b7142b156d30d5f02cec7c3b0ad60a.js',
        'output/chtml/fonts/tex': '\/js\/mathjax\/tex_out.b8b2bb939c0dae84bf1390bfe6d32af13e83f647cdac01d544d2a7a517477e9d.js'
      },
    },
    chtml: {
      fontURL: '/fonts' 
    },
  };
</script><script src="/js/mathjax/startup.234a2513e6bdbc1eee06ca19abceca30fe4034e82afb373c08274c1ba2feb1a6.js" integrity="sha256-I0olE&#43;a9vB7uBsoZq87KMP5ANOgq&#43;zc8CCdMG6L&#43;saY="></script>
  <script src="/js/highlight.9.18.1.b1c58829c55afcc1f568022af4b08ed8976da404d2990b7535bd8e19c0e3310c.js" integrity="sha256-scWIKcVa/MH1aAIq9LCO2JdtpATSmQt1Nb2OGcDjMQw="></script>
  <script src="/js/highlightjs-line-numbers.2.7.0.min.ddfe282e07b7ec1ed069c23f92c7c8216ddb3f1879c4e962d37fd52adbd15a05.js" integrity="sha256-3f4oLge37B7QacI/ksfIIW3bPxh5xOli03/VKtvRWgU="></script><script>
  hljs.initHighlightingOnLoad();
  hljs.initLineNumbersOnLoad();
  document.addEventListener('DOMContentLoaded', (event) => {
    document.querySelectorAll('.codeinline').forEach((block) => {
      hljs.highlightBlock(block);
    });
  });
</script>

</body>
</html>
